package com.example.laba4;

import android.os.Bundle;
import android.widget.Button;
import android.widget.ImageView;
import android.widget.TextView;
import androidx.appcompat.app.AppCompatActivity;
import java.util.Random;

public class JokeActivity extends AppCompatActivity {

    private TextView jokeText;
    private ImageView jokeImage;
    private Button nextJokeButton;

    // Массив анекдотов
    private final String[] jokes = {
            "Рассказ со слов друга. Навеян вчерашним рассказом про мототехнику и казки. Ехал он и его друг на мотоциклах, в переди пост ГАИ, а ни шлема ни казки нет на голове. Что делать? Штраф не охото платить.\n" +
                    "Смотрят в канаве мяч резиновый лежит, наверное помните мячи с полоской по середине, anekdotov.net, разрезали его на две половины и на голову одели, авось не заметят. Проезжают мимо гаишников с наглыми мордами,но номер не прошел,их тормознули. Гаишник помотрел на них и спрашивает что это у них на голове,один парень не растерялся и ответил мол новая казка облехченная, вдруг гаишник со всей дури полосатой палочкой по голове ударит тому что посообразительней оказался. У того звездочки как в мультиках,а потом гаишник спрашивает:\"что нибудь чуствуешь?\" Парень:\"нет\" На том история и заканчается, отпустил их гаишник и штраф не взял, теперь есть что вспомнить.",
            "Только что прикол со мной лично произошел. Мне надо у нотариуса заверить пакет документов и чтобы в очереди не сидеть завтра, я обзваниваю нотариальные конторы, anekdotov.net, чтобы узнать принимают ли они по записи. И вот звоню в очередную. Спрашиваю, принимают ли они в порядке живой очереди или можно по записи, на том конце провода минутное молчание, потом отвечают, что они вообще-то предлагают ритуальные услуги. Я еле сдержалась, чтобы не заржать и сказала, что тогда я лучше не буду пока к ним записываться! !!:-D Я уж как-нибудь в порядке живой очереди!!!!!",
            "Вчера рассказали. Одна девушка работает в авиакассе. Когда происходила эта история,выдался очень тяжелый рабочий день, она просто измотана была. И тут пришел очередной \"авиапассажир\", который так и не понял, что же он хочет - то ли лететь, anekdotov.net, то ли не лететь, то ли менять билет, то ли не менять. И после того, как он окончательно \"достал\" девушку своими \"менять - не менять\" она его спрашивает:\n" +
                    "- мин@т белять будете?\n" +
                    "мужик ошарашенно посмотрел на нее и сказал:\n" +
                    "- Нет, все, я полечу...",
            "Еду утречком в полупустом трамвае. Пассажир, вошедший в последнюю дверь, издалека показывает заспанной кондукторше проездной билет.\n" +
                    "Та пытается рассмотреть его, подслеповато щурясь, и, anekdotov.net, наконец, выдает:\n" +
                    "- У вас месячный?\n" +
                    "Пассажир:\n" +
                    "- Это у вас месячные, а у меня проездной!"
    };

    // Массив изображений, привязанный к анекдотам по индексу
    private final int[] imageIds = {
            R.drawable.i1,
            R.drawable.i2,
            R.drawable.i3,
            R.drawable.i4,
            R.drawable.i5,
            R.drawable.i6,
            R.drawable.i7,
            R.drawable.i8,
            R.drawable.i9,
            R.drawable.i10,
            R.drawable.i11,
            R.drawable.i12,
            R.drawable.i13
    };

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_joke);

        jokeText = findViewById(R.id.text_joke);
        jokeImage = findViewById(R.id.image_joke);
        nextJokeButton = findViewById(R.id.button_next_joke);

        // Показываем первый случайный анекдот и картинку при запуске
        showRandomJoke();

        // При нажатии кнопки "Другой анекдот" обновляется и анекдот, и картинка
        nextJokeButton.setOnClickListener(v -> showRandomJoke());
    }

    private void showRandomJoke() {
        // Случайный индекс для выбора анекдота и картинки
        Random random = new Random();
        int randomIndex = random.nextInt(jokes.length); // Берем индекс от 0 до длины массива - 1

        // Устанавливаем анекдот и картинку по случайному индексу
        jokeText.setText(jokes[randomIndex]);
        jokeImage.setImageResource(imageIds[randomIndex]);
    }
}
